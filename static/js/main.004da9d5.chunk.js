(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){e.exports=a(193)},188:function(e,t,a){},193:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(96),i=a.n(c),o=a(29),s=a(198),u=a(22),l=a(15),d=a(98),m=a(99),p=a(100),h=a.n(p),v=a(76),f=a(7),b="GET_USERS",_="REMOVE_USER",E="EDIT_USER",O="ADD_USER",g="SET_CURRENT";var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(f.a)({},e,{list:t.users});case _:return Object(f.a)({},e,{list:Object(v.a)(e.list.filter(function(e){return e.id!==t.id})),current:Object.assign({},e.current,{handled:!0})});case E:return Object(f.a)({},e,{list:e.list.map(function(e){return e.id===t.user.id?t.user:e}),current:Object.assign({},e.current,{handled:!0})});case O:return Object(f.a)({},e,{list:[].concat(Object(v.a)(e.list),[t.user]),current:Object.assign({},t.user,{handled:!0})});case g:return Object(f.a)({},e,{current:Object.assign({},t.user)});default:return e}},w=Object(l.c)({users:j}),k=h()(),C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,N=Object(d.createLogger)({collapsed:!0}),y=[Object(l.a)(Object(m.routerMiddleware)(k)),Object(l.a)(N)],D=Object(l.e)(w,C.apply(void 0,y)),S=a(10),x=a(11),B=a(30),I=a(27),R=a(31),A=a(194),U=a(200),W=a(197),L=a(196),M={name:"My Address Book",path:"/"},V={name:"Contact",path:"/contact"},P=a(9),T=a.n(P),F=a(32),Z=a(74),q={apiKey:"AIzaSyBAUND8oR4SYgjUEMkUr4X6g3UfZSiGOh0",authDomain:"address-book-efdb5.firebaseapp.com",projectId:"address-book-efdb5"},z=function(){function e(t,a){var n=this;Object(S.a)(this,e),this.getDoc=function(e){return n.collection.doc(e).get().then(function(e){return Object(f.a)({id:e.id},e.data())})},this.deleteDoc=function(e){return n.collection.doc(e).delete()},this.editDoc=function(e,t){return n.collection.doc(e).set(t)},this.addDoc=function(e){return n.collection.add(e).then(function(e){return e.id})},this.collection=t.collection(a)}return Object(x.a)(e,[{key:"Collection",get:function(){return this.collection}}]),e}(),G=Symbol(),J=Symbol(),K=function(){function e(t){var a=this;if(Object(S.a)(this,e),this.getCollection=function(e){return new z(a.db,e).Collection.get().then(function(e){var t=[];return e.forEach(function(e){t.push(Object(f.a)({id:e.id},e.data()))}),t})},this.getDoc=function(e,t){return new z(a.db,e).getDoc(t)},this.addDoc=function(e,t){return new z(a.db,e).addDoc(t)},this.deleteDoc=function(e,t){return new z(a.db,e).deleteDoc(t)},this.editDoc=function(e,t,n){return new z(a.db,e).editDoc(t,n)},t!==J)throw new Error("Instantiation failed: use Singleton.getInstance() instead of new.");Z.initializeApp(q),this.db=Z.firestore()}return Object(x.a)(e,null,[{key:"Instance",get:function(){return this[G]||(this[G]=new e(J)),this[G]}}]),e}(),X={collections:{USERS:"users"}}.collections.USERS,Y=function(){var e=Object(F.a)(T.a.mark(function e(){var t,a,n,r,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.Instance.getCollection(X);case 3:t=e.sent,D.dispatch({type:b,users:t}),e.next=15;break;case 7:e.prev=7,e.t0=e.catch(0),a=e.t0.response,n=(a=void 0===a?{}:a).data,r=(n=void 0===n?{}:n).message,c=void 0===r?null:r,console.error(c||e.t0);case 15:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),$=function(e){return{type:_,id:e}},H=function(){var e=Object(F.a)(T.a.mark(function e(t){var a,n,r,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.Instance.deleteDoc(X,t);case 3:D.dispatch($(t)),e.next=14;break;case 6:e.prev=6,e.t0=e.catch(0),a=e.t0.response,n=(a=void 0===a?{}:a).data,r=(n=void 0===n?{}:n).message,c=void 0===r?null:r,console.error(c||e.t0);case 14:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(F.a)(T.a.mark(function e(t){var a,n,r,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.Instance.editDoc(X,t.id,t);case 3:D.dispatch({type:E,user:t}),e.next=14;break;case 6:e.prev=6,e.t0=e.catch(0),a=e.t0.response,n=(a=void 0===a?{}:a).data,r=(n=void 0===n?{}:n).message,c=void 0===r?null:r,console.error(c||e.t0);case 14:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(F.a)(T.a.mark(function e(t){var a,n,r,c,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.Instance.addDoc(X,t);case 3:a=e.sent,D.dispatch((o=Object(f.a)({id:a},t),{type:O,user:o})),e.next=15;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.response,r=(n=void 0===n?{}:n).data,c=(r=void 0===r?{}:r).message,i=void 0===c?null:c,console.error(i||e.t0);case 15:case"end":return e.stop()}var o},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),te=function(e){return{type:g,user:e}},ae=function(){var e=Object(F.a)(T.a.mark(function e(t){var a,n,r,c,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.Instance.getDoc(X,t);case 3:a=e.sent,D.dispatch(te(a)),e.next=15;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.response,r=(n=void 0===n?{}:n).data,c=(r=void 0===r?{}:r).message,i=void 0===c?null:c,console.error(i||e.t0);case 15:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),ne=a(26),re=a(77),ce=function(e,t){var a,n;try{a=new RegExp(t)}catch(c){return!1}switch(n=e,Object.prototype.toString.call(n).slice(8,-1)){case"Array":return 0!==ie(e,t).length;case"Object":var r=oe(e,t);return 0!==Object.keys(r).length;case"Date":e=e.toLocaleString();break;default:e=String(e)}return a.test(e.toLowerCase())},ie=function(e,t){return e.filter(function(e){return ce(e,t)})},oe=function(e,t){return Object.entries(e).filter(function(e){var a=Object(re.a)(e,2),n=(a[0],a[1]);return ce(n,t)}).reduce(function(e,t){var a=Object(re.a)(t,2),n=a[0],r=a[1];return Object.assign(e,Object(ne.a)({},n,r))},{})},se=a(48),ue=a(41),le=a.n(ue),de=function(e){var t=e.item;return r.a.createElement("div",{className:le.a.addressItem},r.a.createElement(A.a,{to:"/contact/".concat(t.id),className:le.a.name},t.name),r.a.createElement("p",{className:le.a.email},t.email),r.a.createElement("button",{className:le.a.deleteButton,onClick:function(){return H(t.id)}}))},me=a(51),pe=a.n(me),he=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(B.a)(this,Object(I.a)(t).call(this,e))).handleChange=function(e){var t=e.target.value,n=void 0===t?"":t;a.setState({filterValue:n})},a.renderFiltered=function(){var e=a.state,t=e.users,n=e.filterValue;return ie(t,n).map(function(e,t){return r.a.createElement(de,{item:e,key:t})})},a.state={users:e.users,filterValue:""},a}return Object(R.a)(t,e),Object(x.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.users;se.isEqual(t,this.state.users)||this.setState({users:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:pe.a.addressList},r.a.createElement("input",{className:pe.a.searchBar,placeholder:"searchbar",onChange:function(t){return e.handleChange(t)}}),this.renderFiltered(),r.a.createElement(A.a,{to:"/contact",className:pe.a.addButton}))}}]),t}(n.Component);he.defaultProps={users:[]};var ve=Object(o.b)(function(e){return{users:e.users.list}},null)(he),fe=a(195),be=a(199),_e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Ee=a(33),Oe=a.n(Ee),ge=function(e){var t=e.placeholder,a=void 0===t?"":t,n=e.onChange,c=void 0===n?function(){}:n,i=e.id,o=void 0===i?"":i,s=e.value,u=void 0===s?"":s,l=e.onBlur,d=void 0===l?function(){}:l,m=e.className,p=void 0===m?"":m,h=e.isValid,v=void 0===h||h,f=e.validateMessage,b=void 0===f?"":f;return r.a.createElement("div",{className:Oe.a.inputWrapper},r.a.createElement("input",{className:"".concat(Oe.a.input," ").concat(Oe.a[p]," ").concat(v?"":Oe.a.invalid),placeholder:a,onChange:function(e){return c(e)},id:o,value:u,onBlur:function(e){return d(e)}}),!v&&r.a.createElement("p",{className:Oe.a.validateMessage},b))},je=a(42),we=a.n(je),ke=function(e){var t=e.text,a=void 0===t?"":t,n=e.dataRole,c=void 0===n?"":n,i=e.className,o=void 0===i?"":i,s=e.onClick,u=void 0===s?function(){}:s,l=e.disabled,d=void 0!==l&&l,m=e.to;return r.a.createElement(r.a.Fragment,null,"link"===c?r.a.createElement(A.a,{className:"".concat(we.a.button," ").concat(we.a[c]," ").concat(o),to:m},a):r.a.createElement("button",{className:"".concat(we.a.button," ").concat(we.a[c]," ").concat(o),onClick:function(e){return u(e)},disabled:d},a))},Ce=a(34),Ne=a.n(Ce),ye=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(B.a)(this,Object(I.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(ne.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.isNew,r=t.id,c=t.name,i=t.email;n?ee({name:c,email:i}):Q({id:r,name:c,email:i})},a.deleteUser=function(e){e.preventDefault(),H(a.state.id)},a.validateEmail=function(){var e=a.state.email,t=_e.test(e.toLowerCase());a.setState({validEmail:t})},a.state={isNew:!1,name:"",email:"",id:"",validEmail:!0,toDashboard:!1},a}return Object(R.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname,t=Object(fe.a)(e,{path:"/contact/:id",exact:!1,strict:!1});if(t){var a=t.params.id;ae(a)}else this.setState({isNew:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=e.current,a=void 0===t?{}:t,n=this.state,r=n.id,c=n.name,i=n.email;a.handled?this.setState({toDashboard:!0}):se.isEqual(a,{id:r,name:c,email:i})||this.setState(Object(f.a)({},a))}},{key:"componentWillUnmount",value:function(){D.dispatch(te({}))}},{key:"render",value:function(){var e=this.state,t=e.isNew,a=e.name,n=e.email,c=e.validEmail,i=e.toDashboard,o="".concat(t?"New":"Edit"," ").concat(V.name);return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(be.a,{to:"/"}),r.a.createElement(u.BreadcrumbsItem,{className:Ne.a.title,to:V.path},o),r.a.createElement("form",{className:Ne.a.newEditContact,onSubmit:this.handleSubmit},r.a.createElement(ge,{placeholder:"Name",onChange:this.handleChange,id:"name",value:a}),r.a.createElement(ge,{placeholder:"Email",onChange:this.handleChange,id:"email",value:n,onBlur:this.validateEmail,isValid:c,validateMessage:"Please enter valid email"}),r.a.createElement("div",{className:Ne.a.buttonsWrapper},!t&&r.a.createElement(ke,{text:"Delete",dataRole:"delete",onClick:this.deleteUser,className:Ne.a.leftButton}),r.a.createElement(ke,{text:"Cancel",dataRole:"link",to:M.path}),r.a.createElement(ke,{text:"Ok",dataRole:"save",className:Ne.a.rightButton,disabled:!c}))))}}]),t}(n.Component),De=Object(L.a)(Object(o.b)(function(e){return{current:e.users.current}},null)(ye)),Se=a(75),xe=a.n(Se),Be=function(e){function t(){return Object(S.a)(this,t),Object(B.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){Y()}},{key:"render",value:function(){return r.a.createElement("div",{className:xe.a.page},r.a.createElement(u.Breadcrumbs,{separator:r.a.createElement("span",null," / "),item:A.a}),r.a.createElement(u.BreadcrumbsItem,{to:M.path,className:xe.a.title},M.name),r.a.createElement(U.a,null,r.a.createElement(W.a,{exact:!0,path:M.path,component:ve}),r.a.createElement(W.a,{path:V.path,component:De}),r.a.createElement(W.a,{path:"".concat(V.path,"/:id"),component:De})))}}]),t}(n.Component),Ie=Object(L.a)(Be);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(188);i.a.render(r.a.createElement(function(){return r.a.createElement(o.a,{store:D},r.a.createElement(u.BreadcrumbsProvider,null,r.a.createElement(s.a,null,r.a.createElement(Ie,null))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},33:function(e,t,a){e.exports={inputWrapper:"Input_inputWrapper__3vmjA",input:"Input_input__2JCEG",invalid:"Input_invalid__2A6ZG",validateMessage:"Input_validateMessage__aW-x-"}},34:function(e,t,a){e.exports={newEditContact:"NewEditContact_newEditContact__2w2Dg",buttonsWrapper:"NewEditContact_buttonsWrapper__3qv3N",leftButton:"NewEditContact_leftButton__3i3Ki",rightButton:"NewEditContact_rightButton__1Hwn8",title:"NewEditContact_title__2Bbt7"}},41:function(e,t,a){e.exports={addressItem:"AddressItem_addressItem__1LWWP",name:"AddressItem_name__ICuhj",email:"AddressItem_email__33c38",deleteButton:"AddressItem_deleteButton__2uFdm"}},42:function(e,t,a){e.exports={button:"Button_button__2UARf",delete:"Button_delete__3xyY4",save:"Button_save__pfKNs",link:"Button_link__2sWip"}},51:function(e,t,a){e.exports={addressList:"AddressList_addressList__UW9jq",addButton:"AddressList_addButton__3aV_Z",searchBar:"AddressList_searchBar__30Cgr"}},75:function(e,t,a){e.exports={page:"Router_page__bEirS",title:"Router_title__36YJ2"}}},[[103,2,1]]]);
//# sourceMappingURL=main.004da9d5.chunk.js.map